\usepackage{epsfig,pict2e}
\usepackage[utf8]{inputenc}
\usepackage{fancyhdr}
\usepackage[tc]{titlepic}
%\usepackage{amsmath,amsfonts,amssymb,relsize,geometry}
\usepackage{amsmath, amsfonts, amssymb}
%\usepackage{unicode-math}
\usepackage{relsize,geometry}


% Margin size -----------------------------------
% \geometry{tmargin=3.5cm,bmargin=3cm,lmargin=2cm,rmargin=2cm}
\geometry{tmargin=2.7cm,bmargin=1.7cm,lmargin=0.6cm,rmargin=0.6cm}




\usepackage[table, svgnames]{xcolor}
\usepackage{tabu} % for spacing cells cleanly, individually 
%\usepackage{cellspace}


%\usepackage{tabularx} % for table: sets the table with even spacing, don't have to chop the table to fit in the page: https://hyp.is/85ZNKkHzEeq1pcOWcc1cLQ/www.overleaf.com/learn/latex/Tables
\usepackage[tikz]{bclogo}
\usepackage{titling}
\usepackage{fancyhdr}
\pagestyle{fancy}
\usepackage[absolute,overlay]{textpos}
\usepackage[english]{babel}


% Images --------------------------------------
% Ana: adding graphics package for images 
\usepackage{graphics}
\usepackage{graphicx}  %necessary for scalebox for equations
\graphicspath{ {./imgs/} }
% Ana: setting up for text to be on side of the image, on the right

% For side-by-side figures with independent caption:
\usepackage{caption}
\usepackage{subcaption}
\usepackage{setspace}
% graphicx

\captionsetup{font={stretch=0.01, color=Grey, footnotesize},labelfont={color=Black, footnotesize, bf}}



% Table of contents -------------------------------

% Spacing for table of contents
\usepackage{tocbasic}
\DeclareTOCStyleEntry[
  beforeskip=.2em plus 1pt,% default is 1em plus 1pt
  pagenumberformat=\textbf
]{tocline}{section}


% ---------------------------------------
\usepackage{float}
\usepackage{wrapfig}
\usepackage{adjustbox}
%\setlength{\intextsep}{0mm}
%\floatstyle{ruled}
\newfloat{program}{!th}{lop}
\floatname{program}{Program}
% \usepackage{placeins} % for \FloatBarrier
%\usepackage{sidecap}
%\sidecaptionvpos{figure}{c}



% ---------------------------------------------
\fancyhf{}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}
\fancyfoot[R]{\thepage}

\chead{
\tikz[remember picture,overlay] \node[opacity=1,inner sep=0pt,anchor=north] at (current page.north){\includegraphics[width=\paperwidth]{imgs/header.png}};
}

\cfoot{
\tikz[remember picture,overlay] \node[opacity=1,inner sep=0pt,anchor=south] at (current page.south){\includegraphics[width=\paperwidth]{imgs/footer.png}};
}



% Font Setup  ---------------------------------------------------------
\usepackage{unicode-math} % load 'fontspec' automatically
% \usepackage{fontspec, xunicode}
%\usepackage[T1]{fontenc} ?????


% Main font
%\setmainfont{Junction}
%\setmainfont{Coelacanth}
%\setmainfont{TeX Gyre PagellaX}
%\setmainfont{Palladio Uralic}
%\setmainfont{PT Serif}
%\setmainfont{Crimson}
%\setmainfont{Asea}
%\setmainfont{Quattrocento}
\setmainfont{Alegreya}
%\setmainfont{Accanthis ADF Std No3} 
%\setmainfont{IndUni-P} %--- NICE
%*****
%\setmainfont{Libertinus Sans} 
%\setmainfont{Linux Biolinum O}


% Math font
%\setmathfont{XITS Math}
\setmathfont{TeX Gyre Schola Math}

% Line spacing ----------------
\linespread{0.6} % was 1.5


% Font size
\newcommand\ContentFontSize{\fontsize{10.5pt}{10.5pt}\selectfont}

\newcommand\ContentFontSizeMedium{\fontsize{11pt}{11pt}\selectfont}

\newcommand\CodeFontSizeSmall{\fontsize{9pt}{9pt}\selectfont}


%\newcommand\ContentFontSizeBigger{\fontsize{11.5pt}{11.5pt}\selectfont}

% Setting up local font

% Use this for \begin{tableFont} ... \end{tableFont}
\newenvironment{tableFont}{\setmainfont{Overlock}\selectfont}{\par}
% If we include below command as well, we get \tableFont{Text in the new font.}
%\DeclareTextFontCommand{\tableFont}{\tablefont}



% Section font size 

\usepackage{sectsty}
\sectionfont{\fontsize{16}{16}\selectfont}
\subsectionfont{\fontsize{12.5}{12.5}\selectfont}
\subsubsectionfont{\fontsize{11}{11}\selectfont}

%\usepackage{titlesec}
%\titleformat*{\section}{\Large\selectfont}
%\titleformat*{\subsection}{\large\selectfont}
%\titleformat*{\subsubsection}{\normalsize\selectfont}




% Indenting / addmargin ----------------------------

%\usepackage{scrextend} % For addmargin environment

\usepackage{changepage}



% Coloring shading --------------------------

% SOURCE: https://tex.stackexchange.com/questions/48662/tikz-or-xcolor-lighten-color


% Declaring some base colors to change:
\colorlet{BaseRed}{LightSalmon!50} % to lighten by 50
\colorlet{BaseGreen}{LightGreen!50}
\colorlet{BaseBlue}{Aqua!15}

\definecolor{originalmannibg}{HTML}{f2f2ff}
\colorlet{BasePurple}{originalmannibg!90}

\colorlet{DefColor}{LightGoldenrod!50}

\newcommand{\lighten}[3]{% Reference Color, Percentage, New Color Name
    \colorlet{#3}{#1!#2!white}
}

\newcommand{\darken}[3]{% Reference Color, Percentage, New Color Name
    \colorlet{#3}{#1!#2!black}
}


% Now LightRed and DarkRed are commands
\lighten{BaseRed}{50}{LightRed}
\darken{BaseRed}{50}{DarkRed}

% Now LightGreen and DarkGreen are commands
\lighten{BaseGreen}{50}{LightGreen}
\darken{BaseGreen}{50}{DarkGreen}

\lighten{BaseBlue}{50}{LightBlue}
\darken{BaseBlue}{50}{DarkBlue}

\lighten{DefColor}{50}{LightGold}
\darken{DefColor}{50}{DarkGold}

\lighten{BasePurple}{50}{mannibg}






% Code setup -----------------------------------------------------
\usepackage{minted}
\usepackage{verbatim}  % has commenting



\usemintedstyle{manni}

%\setmonofont{Inconsolata} % setting code font
\setmonofont{Fira Mono}
%\setmonofont{DejaVu Sans Mono}
%\setmonofont{Droid Sans Mono}


% Background for manni theme: 
%\definecolor{mannibg}{HTML}{LightPurple}

% For larger line numbers: 
%\renewcommand{\theFancyVerbLine}{
%  \sffamily\textcolor[rgb]{0.5,0.5,0.5}{\scriptsize\arabic{FancyVerbLine}}}


% General code environment, used like: \begin{code}{python} .... \end{code}
% NOTE: this is how to nest two environments together: 
\newenvironment{code}[2][]
 {\vspace{-3pt}%
 \VerbatimEnvironment
  \begin{adjustwidth}{30pt}{30pt}
  \begin{minted}[
    fontsize=\CodeFontSizeSmall,
    breaklines, mathescape,
    style=manni, bgcolor=mannibg,  #1]{#2}}
 {\end{minted}\end{adjustwidth} 
     \vspace{-10pt}
 }
 
 
% Python code environment, used like \begin{pythonCode} ... \end{pythonCode}
\newenvironment{pythonCode}
 {\vspace{-3pt}%
 \VerbatimEnvironment
  \begin{adjustwidth}{30pt}{30pt}
  \begin{minted}[
    fontsize=\CodeFontSizeSmall,
    breaklines, mathescape,
    style=manni, bgcolor=mannibg]{python}}
 {\end{minted}\end{adjustwidth} 
     \vspace{-10pt}
 }



% General code output environment
\newenvironment{outputCode}
 {\VerbatimEnvironment
  \begin{adjustwidth}{30pt}{30pt}
  \begin{minted}[
    fontsize=\CodeFontSizeSmall,
    breaklines]{text}}
 {\end{minted}\end{adjustwidth}}


% Creating inline code font (equivalent to backticks in jupyter notebooks)

\newmintinline{python}{python3, fontsize=\CodeFontSizeSmall, bgcolor=mannibg}

%\newenvironment{mintInline}[1][]{\mintinline{latex}{#1}}{}
%\DeclareTextFontCommand{\mint}{\mintInline}





% Hyperlink / URL setup ------------------------------
\usepackage{hyperref}

\hypersetup{
    colorlinks=true,
    %filecolor=magenta,      
    %filebordercolor=magenta,
    urlcolor=blue, % website links
    urlbordercolor=cyan,
    % FireBrick, DodgerBlue, MediumVioletRed, ... SteelBlue
    linkcolor = MediumVioletRed, % for local linking
    %linkbordercolor=magenta,
    %pdftitle={Sharelatex Example},
    %bookmarks=true,
    pdfpagemode=FullScreen,
    pdfborderstyle={/S/U/W 1},
    runbordercolor=cyan
}

%\urlstyle{}


% Cross-Referencing With This Report ---------------------

% SOURCE: https://tex.stackexchange.com/questions/66896/ref-chapter-name-in-latex
\usepackage{nameref}
\usepackage{cleveref} % so that 'figure' is included not just its number, NOTE must load this AFTER hyperref






% Paragraph / Indendation ---------------------
\setlength{\parindent}{0pt}
\setlength{\parskip}{5pt}




% Section spacing (spaces between sections and text) ------
\usepackage[compact]{titlesec}


% RULE: \titlespacing{command}{left spacing}{before spacing}{after spacing}[right]

% NOTE: use the \titlespacing* to put indent after first paragraphs (style)
\titlespacing{\section}{0pt}{4pt}{0pt}
\titlespacing{\subsection}{0pt}{4pt}{0pt}
\titlespacing{\subsubsection}{0pt}{4pt}{0pt}


% SOURCE: https://tex.stackexchange.com/questions/53338/reducing-spacing-after-headings




% Spacing lines in lists -------------------

\newenvironment{itemizeSpaced}[1]
  {\vspace{-2pt}
  \begin{itemize}%
    \ContentFontSize
    \vspace{-#1}
    \setlength{\itemsep}{#1}%
    \setlength{\parsep}{0pt}%
    \setlength{\parskip}{0pt}}% really increases vspace
  {\end{itemize}}



\newenvironment{enumerateSpaced}[1]
  {\begin{enumerate}%
    \ContentFontSize
    \vspace{-#1}% eliminate space before
    \setlength{\itemsep}{#1}%
    \setlength{\parsep}{0pt}%
    \setlength{\parskip}{0pt}% really increases vspace
    \vspace{-#1}}% eliminate space after
  {\end{enumerate}}


%\newenvironment{itemizeSpaced}[1]
%  {\begin{itemize}%
%    %\setlength{\topsep}{15pt}%
%    \setlength{\itemsep}{#1}%
%    \setlength{\parsep}{0pt}%
%    \setlength{\parskip}{0pt}}% really increases vspace
%  {\end{itemize}}

%\newenvironment{enumerateSpaced}[1]
%  {\begin{enumerate}%
%    \setlength{\itemsep}{#1}%
%    \setlength{\parsep}{0pt}%
%    \setlength{\parskip}{0pt}}% really increases vspace
%  {\end{enumerate}}


