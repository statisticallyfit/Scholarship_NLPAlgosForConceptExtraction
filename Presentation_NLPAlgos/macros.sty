% \usepackage[svgnames]{xcolor} % adding svgnames options to the documentclass isntead since xcolor has already been loaded by metropolis

% Below are the packages from metropolis: 
\usetheme[progressbar=frametitle]{metropolis}
\usepackage{appendixnumberbeamer}

\usepackage{booktabs}
\usepackage[scale=2]{ccicons}

\usepackage{pgfplots}
\usepgfplotslibrary{dateplot}

\usepackage{xspace}
\newcommand{\themename}{\textbf{\textsc{metropolis}}\xspace}


\usepackage{verbatim}





% Section and subsection title pages ----------------


\begin{comment}


\setbeamertemplate{section page}
{
}



\setbeamertemplate{subsection page}
{
    \begingroup 
    \begin{beamercolorbox}[sep=40pt]{section title}% sep= vertical space around text (between text and box border)
        \usebeamerfont{section title}\insertsection\par
    \end{beamercolorbox}
    %\vspace*{-1.pt}%    \vspace*{10pt}
    \begin{beamercolorbox}[sep=0pt]{subsection title}
        \usebeamerfont{subsection title}\insertsubsection\par
    \end{beamercolorbox}
    \endgroup
}

    \setbeamerfont{section title}{size=\Large}
    \setbeamerfont{subsection title}{size=\Large}

\end{comment}


% Setting margins ------------------------------------------------
%\usepackage{geometry}
%\geometry{bmargin=25pt,lmargin=10pt,rmargin=10pt}
\setbeamersize{text margin left=15pt}
\setbeamersize{text margin right=15pt}
%\setbeamersize{text margin bottom=0.8cm}



% Bullet point styles ----------------------------------------

\setbeamertemplate{itemize items}[square]
%\setbeamertemplate{itemize subitem}[ball]




% Font setup ----------------------------------------------

\usefonttheme{professionalfonts} % using non standard fonts for beamer
\usefonttheme{serif} % default family is serif
\usepackage{unicode-math} % loads fontspec already

%\setmainfont{Alegreya}
\setmainfont{Linux Biolinum O}

\setmathfont{TeX Gyre Schola Math}

% Font size
\newcommand\ContentFontSize{\fontsize{9pt}{9pt}\selectfont}


% Change beamer margins for slides: ----------------------------

%\geometry{bmargin=2pt}


% Change beamer margins for ITEMIZE: ------------------------------------------

% SOURCE: https://www.guitex.org/home/en/forum/5-tex-e-latex/49939-beamer-margini-frame-a-indentazione-elenco-puntato
% SOURCE: https://tex.stackexchange.com/a/426588

%\setlength\itemsep{2cm}
%\usepackage{enumitem}
%\setitemize{itemsep=3pt}

\setlength{\leftmargini}{0.3cm} % first level item
\setlength{\leftmarginii}{0.5cm} % second level item
\setlength{\rightmargin}{0.3cm}



% Itemize separation between lines ------------------

% Creating environment
%\newenvironment{itemize*}%
%  {\begin{itemize}%
%    \setlength{\itemsep}{7pt}%
%    \setlength{\parsep}{0pt}%
%    \setlength{\parskip}{0pt}}% really increases %vspace
%  {\end{itemize}}

\newenvironment{itemizeSpaced}[1]
  {\begin{itemize}%
    %\setlength{\topsep}{15pt}%
    \setlength{\itemsep}{#1}%
    \setlength{\parsep}{0pt}%
    \setlength{\parskip}{0pt}}% really increases vspace
  {\end{itemize}}


\newenvironment{enumerateSpaced}[1]
  {\begin{enumerate}%
    \setlength{\itemsep}{#1}%
    \setlength{\parsep}{0pt}%
    \setlength{\parskip}{0pt}}% really increases vspace
  {\end{enumerate}}


% Hyperlink / URL setup ------------------------------


\usepackage{hyperref}

\hypersetup{
   colorlinks=true,
   %filecolor=magenta,      
   %filebordercolor=magenta,
   urlcolor=blue, % website links
   urlbordercolor=cyan,
   linkcolor=MediumVioletRed, % for local linking
   %linkbordercolor=magenta,
   %pdftitle={Sharelatex Example},
   %bookmarks=true,
   pdfpagemode=FullScreen,
   pdfborderstyle={/S/U/W 1},
   runbordercolor=cyan
}



% Images ------------------------------------
\usepackage{graphics}
\usepackage{graphicx}
\usepackage{caption}
\usepackage{subcaption}


% Wrapping figures and floating the text so they don't separate ----
% NOTE: better just to use columns

%\usepackage{float}
%\usepackage{wrapfig}
%\usepackage{adjustbox}
%%\setlength{\intextsep}{0mm}
%%\floatstyle{ruled}
%\newfloat{program}{!th}{lop}
%\floatname{program}{Program}



% Cross-Referencing With This Report ---------------------

% SOURCE: https://tex.stackexchange.com/questions/66896/ref-chapter-name-in-latex
\usepackage{nameref}
\usepackage{cleveref} % so that 'figure' is included not just its number, NOTE must load this AFTER hyperref


% Redefining the cref in beamer because it doesn't work: (must save link explicitly as below)
% SOURCE: https://tex.stackexchange.com/questions/266080/cleveref-hyperlink-not-working-in-beamer

% Step 1: Save original command 'cref' under new name, like oldcref
\let\oldcref\cref 
% Step 2: redefine the \cref and explicitly add the hyperlink
\renewcommand{\cref}[1]{\hyperlink{#1}{\oldcref{#1}}} 



  
  
% Coloring shading --------------------------

% Declaring some base colors to change:
\colorlet{BaseRed}{LightSalmon!50} % to lighten by 50
\colorlet{BaseGreen}{LightGreen!50}
\colorlet{DefColor}{LightGoldenrod!50}

\newcommand{\lighten}[3]{% Reference Color, Percentage, New Color Name
    \colorlet{#3}{#1!#2!white}
}

\newcommand{\darken}[3]{% Reference Color, Percentage, New Color Name
    \colorlet{#3}{#1!#2!black}
}


% Now LightRed and DarkRed are commands
\lighten{BaseRed}{50}{LightRed}
\darken{BaseRed}{50}{DarkRed}

% Now LightGreen and DarkGreen are commands
\lighten{BaseGreen}{50}{LightGreen}
\darken{BaseGreen}{50}{DarkGreen}

\lighten{DefColor}{50}{LightGold}
\darken{DefColor}{50}{DarkGold}




% Block environment colors -----------------

% SOURCE: https://tex.stackexchange.com/questions/33231/how-to-change-the-color-of-a-block-within-a-custom-beamer-sty-theme-file

\newenvironment{exampleBlock}[1]{%
  \setbeamercolor{block title}{bg=BaseGreen, fg=DarkGreen}
  \setbeamercolor{block body}{bg=LightGreen}
  \begin{block}{#1}}{\end{block}}
  
\newenvironment{alertBlock}[1]{%
  \setbeamercolor{block title}{bg=BaseRed, fg=DarkRed}
  \setbeamercolor{block body}{bg=LightRed}
  \begin{block}{#1}}{\end{block}}
  

\newenvironment{definitionBlock}[1]{%
  \large     
  \setbeamercolor{block title}{bg=DefColor, fg=DarkGold}
  \setbeamercolor{block body}{bg=LightGold}
  \begin{block}{#1}}{\end{block}}  



% Enlarge math symbols -------------------


% Brings \mathlarger command for symbols like \Rightarrow
\usepackage{relsize}


% Indenting / addmargin ----------------------------

\usepackage{scrextend} % For indenting

% Change bullet shapes -------------------

%\usepackage{enumitem}

% Creates arrow as a bullet item (used in transformer-xl slide)
\newcommand{\arrowitem}{\item[$\Rightarrow$]}
\newcommand{\largearrowitem}{\item[$\mathlarger{\mathlarger{\Rightarrow}}$]}
\newcommand{\pinkbox}{\item[\textcolor{magenta}{$\blacksquare$}]}